<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<div class="container">
		<h:form id="wsdialogForm">
			<div>
				<h:panelGroup rendered="#{!templatePageBean.savedMode}">
					<div class="row bottom10">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:outputLabel value="Community "></h:outputLabel>
						</div>
						<div class="col-md-4">
							<h:selectOneMenu styleClass="form-control select2 onchange-subscriberdiv" id="community"
								value="#{templatePageBean.template.community}">
								<f:converter converterId="communityConverter"></f:converter>
								<f:selectItem itemLabel="Please select a Community" noSelectionOption="true"></f:selectItem>
								<f:selectItems value="#{templatePageBean.communities}" var="var" 
									itemLabel="#{var.communityName}" itemValue="#{var}"/>
								<f:ajax event="change" listener="#{templatePageBean.communityChangeEvent}"
									render="subscriber"></f:ajax>
							</h:selectOneMenu>
							<h:outputLabel value="#{templatePageBean.template.community}" ></h:outputLabel>
						</div>
					</div>
					<div class="row bottom10 depends" id="subscriberdiv">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:outputLabel value="Subscriber Name "></h:outputLabel>
						</div>
						<div class="col-md-4">
							<h:selectOneMenu id="subscriber" styleClass="form-control select2 depends onchange-dpdetails" onchange="onchangeSubscriber(this);"
								value="#{templatePageBean.template.subscriber}">
								<f:converter converterId="subscriberConverter"></f:converter>
								<f:selectItem itemLabel="Please select a Subscriber" noSelectionOption="true"></f:selectItem>
								<f:selectItems value="#{templatePageBean.subscribers}" var="var" 
									itemLabel="#{var.subscriberName}" itemValue="#{var}">
								</f:selectItems>
							</h:selectOneMenu>
							<h:outputLabel value="#{templatePageBean.template.subscriber}"></h:outputLabel>
						</div>
					</div>
					<div class="depends" id="dpdetails">
						<div class="row bottom10">
							<div class="col-md-2"></div>
							<div class="col-md-3">
								<h:outputLabel value="Datapoint Name "></h:outputLabel>
							</div>
							<div class="col-md-4">
								<h:inputText id="dpName" styleClass="form-control mandatory" value="#{templatePageBean.template.templateName}">
								</h:inputText>
							</div>
						</div>
						<div class="row bottom10">
							<div class="col-md-2"></div>
							<div class="col-md-3">
								<h:outputLabel value="Xpath "></h:outputLabel>
							</div>
							<div class="col-md-4">
								<h:inputText id="xpath" styleClass="form-control mandatory" value="#{templatePageBean.template.templateFile}">
								</h:inputText>
							</div>
						</div>
						<div class="row top30 bottom17" id="btnsdiv">
							<div class="col-md-2"></div>
							<div class="col-md-3"></div>
							<div class="col-md-4">
								<h:commandButton styleClass="btn btn-primary btn-block" value="Save" action="#{templatePageBean.saveTemplate}"></h:commandButton>
							</div>
						</div>
					</div>
				</h:panelGroup>
				<h:panelGroup rendered="#{templatePageBean.savedMode}">
					<div class="row bottom10">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:outputLabel value="Community "></h:outputLabel>
						</div>
						<div class="col-md-4">
							<h:outputLabel value="#{templatePageBean.template.community.communityName}"></h:outputLabel>
						</div>
					</div>
					<div class="row bottom10" id="subscriberdiv">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:outputLabel value="Subscriber Name "></h:outputLabel>
						</div>
						<div class="col-md-4">
							<h:outputLabel value="#{templatePageBean.template.subscriber.subscriberName}"></h:outputLabel>
						</div>
					</div>
					<div class="row bottom10">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:outputLabel value="Datapoint Name "></h:outputLabel>
						</div>
						<div class="col-md-4">
							<h:outputLabel value="#{templatePageBean.template.templateName}"></h:outputLabel>
						</div>
					</div>
					<div class="row bottom10">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:outputLabel value="Xpath "></h:outputLabel>
						</div>
						<div class="col-md-4">
							<h:outputLabel value="#{templatePageBean.template.templateFile}"></h:outputLabel>
						</div>
					</div>
					
					<div class="row top30 bottom17">
						<div class="col-md-2"></div>
						<div class="col-md-3">
							<h:commandButton styleClass="btn btn-success btn-block" value="Edit" action="#{templatePageBean.editTemplate}"></h:commandButton>
						</div>
						<div class="col-md-4">
							<h:commandButton styleClass="btn btn-success btn-block" value="Return Home" action="/pages/home.xhtml"></h:commandButton>
						</div>
					</div>				
				</h:panelGroup>
			</div>
		</h:form>
	</div>
</ui:composition>